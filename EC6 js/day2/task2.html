<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Users</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    #tabs { display: flex; flex-wrap: wrap; gap: 5px; }
    .tab {
      background: #7f8c8d; color: white;
      padding: 5px 10px; border-radius: 3px; cursor: pointer;
    }
    .tab.active { background: #e74c3c; }
    #content {
      margin-top: 20px; padding: 10px;
      background: #ecf0f1; border-radius: 5px;
      min-height: 100px;
    }
  </style>
</head>
<body>

<div id="tabs"></div>
<div id="content">Select a user to see posts...</div>

<script>
const tabsContainer = document.getElementById("tabs");
const content = document.getElementById("content");


fetch("https://jsonplaceholder.typicode.com/users")
  .then(res => res.json())
  .then(users => {
    users.forEach(user => {
      
      const tab = document.createElement("div");
      tab.className = "tab";
      tab.textContent = user.name;
      tab.dataset.userId = user.id;
      tabsContainer.appendChild(tab);

    
      tab.addEventListener("click", async () => {
        
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        tab.classList.add("active");

        content.textContent = "Loading posts...";

        try {
          
          const res = await fetch(`https://jsonplaceholder.typicode.com/posts?userId=${user.id}`);
          const posts = await res.json();

          if(posts.length === 0){
            content.textContent = "No posts found for this user.";
          } else {
            const ul = document.createElement("ul");
            posts.forEach(post => {
              const li = document.createElement("li");
              li.textContent = post.title;
              ul.appendChild(li);
            });
            content.innerHTML = "";
            content.appendChild(ul);
          }
        } catch(err) {
          content.textContent = "Error loading posts: " + err;
        }
      });
    });
  })
  .catch(err => {
    content.textContent = "Error loading users: " + err;
  });
</script>

</body>
</html>
